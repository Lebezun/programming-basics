from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, filters
import logging

logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.INFO
)
logger = logging.getLogger(__name__)

async def start(update: Update, context) -> None:
    await update.message.reply_text("Привіт! Я ехо-бот. Напиши мені повідомлення, і я його повторю!")

async def help_command(update: Update, context) -> None:
    await update.message.reply_text("Напиши мені будь-яке повідомлення, і я його повторю!")

async def echo(update: Update, context) -> None:
    await update.message.reply_text(update.message.text)

async def photo_handler(update: Update, context) -> None:
    await update.message.reply_text("Дякую за фото!")

async def error_handler(update: Update, context) -> None:
    logger.warning(f"Update {update} caused error {context.error}")

def main():
    app = ApplicationBuilder().token("7756454607:AAFV6pmcs0e2y9B8mzZ7OJ3NxqFIyvfCOVM").build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("help", help_command))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, echo))
    app.add_handler(MessageHandler(filters.PHOTO, photo_handler))
    app.add_error_handler(error_handler)
    app.run_polling()

if __name__ == "__main__":
    main()
